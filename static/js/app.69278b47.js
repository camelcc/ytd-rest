(function(e){function t(t){for(var i,s,o=t[0],l=t[1],c=t[2],d=0,u=[];d<o.length;d++)s=o[d],a[s]&&u.push(a[s][0]),a[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);p&&p(t);while(u.length)u.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],i=!0,o=1;o<r.length;o++){var l=r[o];0!==a[l]&&(i=!1)}i&&(n.splice(t--,1),e=s(s.s=r[0]))}return e}var i={},a={1:0},n=[];function s(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=i,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(r,i,function(t){return e[t]}.bind(null,i));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var p=l;n.push([2,0]),r()})({2:function(e,t,r){e.exports=r("Vtdi")},Vtdi:function(e,t,r){"use strict";r.r(t);var i=r("Kw5r"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"row"},[r("div",{attrs:{id:"youtube_link"}},[r("div",{attrs:{id:"url_input"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.videoUrl,expression:"videoUrl"}],staticClass:"validate",attrs:{placeholder:"粘贴 Youtube 链接",type:"url"},domProps:{value:e.videoUrl},on:{input:function(t){t.target.composing||(e.videoUrl=t.target.value)}}})]),r("a",{staticClass:"waves-effect waves-light btn-large grey darken-4",attrs:{id:"url_parse"},on:{click:function(t){e.parseUrl()}}},[e._v("提取")])])]),r("div",{staticClass:"row"},[e.parsing?r("div",{staticClass:"center-align"},[e._m(0)]):e._e(),e.parsed?r("PlayList",{attrs:{video:e.videoData}}):e._e(),e.error?r("p",{staticClass:"grey-text text-lighten-1 center-align",attrs:{id:"parse_error"}},[e._v("出错了呢: "),r("br"),e._v(" "+e._s(e.error))]):e._e()],1)])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"preloader-wrapper big active"},[r("div",{staticClass:"spinner-layer spinner-red-only"},[r("div",{staticClass:"circle-clipper left"},[r("div",{staticClass:"circle"})]),r("div",{staticClass:"gap-patch"},[r("div",{staticClass:"circle"})]),r("div",{staticClass:"circle-clipper right"},[r("div",{staticClass:"circle"})])])])}],s=r("vDqi"),o=r.n(s),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"center-align"},["video"!=e.video.type?r("p",{staticClass:"orange-text text-darken-4"},[e._v("不支持解析播放列表")]):e._e(),e.timedout?r("a",{staticClass:"btn-large waves-effect waves-light",attrs:{id:"install_app_btn",href:"https://itunes.apple.com"}},[e._v("下载 App")]):e._e(),"video"==e.video.type?r("div",[r("video",{staticClass:"responsive-video",attrs:{controls:""}},[r("source",{attrs:{poster:e.video.thumbnail,src:e.video.url,type:"video/mp4"}})])]):e._e(),e.isiOS?r("div",{staticClass:"fixed-action-button",attrs:{id:"open_app"}},[r("a",{staticClass:"btn waves-effect waves-light",attrs:{id:"open_app_btn"},on:{click:e.openApp}},[e._v("App 中打开")])]):e._e()])},c=[];const p={isiOS(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)}};var d=p,u={name:"PlayList",props:{video:Object,isiOS:!1,timedout:!1},methods:{urlScheme(){return Object.keys(this.video).map(e=>encodeURIComponent(e)+"="+btoa(unescape(encodeURIComponent(this.video[e])))).join("&")},openApp(){location.href="yichu://video;data?"+this.urlScheme(),setTimeout(()=>{this.timedout=!0},3e3)}},mounted(){this.isiOS=d.isiOS()}},v=u,f=(r("xTGK"),r("KHd+")),h=Object(f["a"])(v,l,c,!1,null,"00f8fd18",null),g=h.exports,m={data(){return{videoUrl:"",videoData:{},parsing:!1,parsed:!1,error:""}},methods:{parseUrl(){this.error="",this.parsed=!1,this.parsing=!0;var e=encodeURI(this.videoUrl);o.a.get("/parse",{params:{page:e}}).then(e=>{console.log(e.data),this.videoData=e.data,this.parsed=!0,this.parsing=!1}).catch(e=>{this.error=e,this.parsing=!1})}},components:{PlayList:g}},b=m,_=(r("nNx0"),Object(f["a"])(b,a,n,!1,null,null,null)),y=_.exports,w=r("lIOY");Object(w["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached(){console.log("Content has been cached for offline use.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),i["a"].config.productionTip=!1,new i["a"]({render:e=>e(y)}).$mount("#app")},jqzy:function(e,t,r){},nNx0:function(e,t,r){"use strict";var i=r("uWEC"),a=r.n(i);a.a},uWEC:function(e,t,r){},xTGK:function(e,t,r){"use strict";var i=r("jqzy"),a=r.n(i);a.a}});
//# sourceMappingURL=app.69278b47.js.map